function solve(password) {
    let numberOfInput = Number(password.shift())
    let namePattern = /U\$([A-Za-z{3,}]+)U\$/gm
    let passwordPattern = /U\$([A-Za-z{3,}]+)U\$/gm

    let allpat = /^U\$([A-Z][a-z]{3,})U\$([P][@$]+)(([A-Za-z]){5,}[\d]+)([P][@$]+)$/gm
    let validNames = []

    let count = 0;
    for (let i = 0; i < numberOfInput; i++) {

        let validName = allpat.exec(password[i])
       

        if (validName === null) {
            console.log(`Invalid username or password`)
            continue;
        }

        else {
            //validNames.join(' ')
            validNames.push(validName[0])
            count++

            console.log(`Registration was successful`)
            console.log(`Username: ${validName[1]}, Password: ${validName[3]}`)
        }

    }

    console.log(`Successful registrations: ${count}`)
}

solve([
    '3',
    'U$MichaelU$P@$asdqwe123P@$',
    'U$NameU$P@$PasswordP@$',
    'U$UserU$P@$ad2P@$'
]
)

solve(['2',
    'U$TommyU$P@$asdqwe123P@$',
    'Sara 1232412']

)

solve([
    '3',
    'U$myU$-->P@$asdqwe123P@$',
    'Sara 1232412',
    'U$NameU$P@$Pass234P@$'
]
)
